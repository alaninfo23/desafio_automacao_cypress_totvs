# Desafio de Automa√ß√£o Cypress - Central de Atendimento ao Cliente TAT

![Cypress](https://img.shields.io/badge/tested%20with-Cypress-04C38E.svg?style=flat-square)
![JavaScript](https://img.shields.io/badge/language-JavaScript-F7DF1E.svg?style=flat-square)
![GitHub](https://img.shields.io/badge/repository-alaninfo23/desafio_automacao_cypress_totvs-blue?style=flat-square)

Este projeto cont√©m testes automatizados End-to-End desenvolvidos com o framework Cypress para a Central de Atendimento ao Cliente (TAT). Este projeto foi proposto como um desafio, e os testes visam garantir a funcionalidade e a qualidade do formul√°rio de contato.

## üöÄ Como Executar os Testes

Para executar os testes localmente, siga estas etapas:

1.  **Clone o reposit√≥rio do projeto:**

    ```bash
    git clone https://github.com/alaninfo23/desafio_automacao_cypress_totvs
    cd desafio_automacao_cypress_totvs
    ```

2.  **Instale as depend√™ncias do Cypress:**

    Certifique-se de ter o Node.js e o npm (ou yarn) instalados em seu ambiente. Execute o seguinte comando na raiz do projeto:

    ```bash
    npm install cypress --save-dev
    # ou
    yarn add cypress --dev
    ```

    Este comando far√° o download e a instala√ß√£o do Cypress e de suas depend√™ncias.

3.  **Execute os testes Cypress:**

    Voc√™ pode escolher entre executar os testes com a interface gr√°fica do Cypress ou diretamente no terminal:

    **Abrindo o Cypress Test Runner (GUI):**

        ```bash
        npx cypress open
        # ou
        yarn cypress open
        ```

        Esta op√ß√£o abrir√° a interface do Cypress, permitindo que voc√™ visualize os arquivos de teste e os execute individualmente ou em conjunto de forma interativa.

    **Executando os testes no modo headless (terminal):**

        ```bash
        npx cypress run
        # ou
        yarn cypress run
        ```

        Este modo executa os testes sem a interface gr√°fica, sendo ideal para integra√ß√µes cont√≠nuas e para obter relat√≥rios de execu√ß√£o no terminal.

## üß™ Testes Implementados

Os seguintes cen√°rios de teste foram automatizados:

* **Preenchimento e envio do formul√°rio com campos obrigat√≥rios:** Verifica se o formul√°rio √© enviado com sucesso ao preencher nome, e-mail, telefone e mensagem.
* **Tentativa de envio do formul√°rio sem campos obrigat√≥rios:** Garante que o sistema impede o envio de um formul√°rio incompleto, exibindo a mensagem de erro esperada.
* **Preenchimento completo do formul√°rio com anexo e envio:** Valida o envio do formul√°rio com todos os campos preenchidos, incluindo o upload de um arquivo, e confirma o sucesso da submiss√£o.
* **Exibi√ß√£o de mensagem de erro para e-mails inv√°lidos:** Utiliza uma variedade de e-mails com formatos inv√°lidos para verificar se o sistema os identifica e informa o usu√°rio sobre o erro.
* **Sele√ß√£o de m√∫ltiplos meios de contato:** Assegura que o usu√°rio pode selecionar mais de uma op√ß√£o de contato (por exemplo, e-mail e telefone).
* **Abertura e valida√ß√£o do conte√∫do da Pol√≠tica de Privacidade em nova aba:** Verifica se o link da Pol√≠tica de Privacidade abre em uma nova aba do navegador e se o conte√∫do carregado corresponde ao esperado.

## üß™ Execu√ß√£o dos testes automatizados:

![image](https://github.com/user-attachments/assets/6b165874-87fe-4a03-a8ab-49179d50c777)

## üö® Integra√ß√£o Cont√≠nua com GitHub Actions

Este projeto conta com integra√ß√£o cont√≠nua configurada atrav√©s do GitHub Actions, permitindo que os testes sejam executados automaticamente sempre que h√° um push ou pull request para a branch `main`. Isso garante que os testes estejam sempre atualizados e funcionando corretamente em um ambiente de integra√ß√£o.

* **Workflow do GitHub Actions**: O arquivo `.github/workflows/cypress.yaml` foi configurado para rodar os testes de forma autom√°tica.

* **Relat√≥rios com Mochawesome**: Os relat√≥rios de execu√ß√£o dos testes s√£o gerados com o [Mochawesome](https://github.com/adamgruber/mochawesome), um plugin de relat√≥rio para o Cypress. O relat√≥rio cont√©m informa√ß√µes detalhadas sobre a execu√ß√£o dos testes, incluindo captura de tela e v√≠deos dos testes que falharam.

### Visualiza√ß√£o dos Relat√≥rios

Os relat√≥rios de execu√ß√£o dos testes podem ser baixados diretamente ao acessar a aba **Actions** no reposit√≥rio do GitHub e clicar no workflow mais recente. L√° voc√™ encontrar√° os artefatos gerados, incluindo os relat√≥rios em formato HTML, prontos para visualiza√ß√£o.

- **Acesse os relat√≥rios mais recentes atrav√©s da aba "Actions" no reposit√≥rio**.

## üßë‚Äçüíª Execu√ß√£o dos Testes Autom√°ticos via GitHub Actions

A cada push ou pull request para a branch `main`, o GitHub Actions ir√° executar os testes automaticamente no ambiente de integra√ß√£o. Voc√™ pode verificar o status dos testes acessando a aba **Actions** no reposit√≥rio do GitHub.
## üóÇÔ∏è Estrutura do Projeto

A estrutura de arquivos e diret√≥rios para este projeto de testes Cypress √© a seguinte:
```
cypress/
‚îú‚îÄ‚îÄ e2e/
‚îÇ   ‚îî‚îÄ‚îÄ cac_tat.cy.js   # Arquivo principal de testes
‚îú‚îÄ‚îÄ fixtures/
‚îÇ   ‚îú‚îÄ‚îÄ formData.json   # Dados de teste (formul√°rio, e-mails inv√°lidos)
‚îÇ   ‚îî‚îÄ‚îÄ totvs.png       # Logo da TOTVS (utilizado nos testes ou na aplica√ß√£o)
‚îî‚îÄ‚îÄ support/
‚îú‚îÄ‚îÄ commands.js         # Comandos personalizados do Cypress
‚îú‚îÄ‚îÄ e2e.js              # Arquivo de suporte para configura√ß√µes E2E
‚îî‚îÄ‚îÄ testIds.js          # Seletores para elementos de teste
```

* `cypress/e2e/desafio-tat.cy.js`: Cont√©m os scripts de teste End-to-End para o desafio TAT.
* `cypress/fixtures/formData.json`: Arquivo JSON com dados para os testes, incluindo informa√ß√µes do formul√°rio e e-mails inv√°lidos.
* `cypress/fixtures/totvs.png`: Arquivo de imagem do logo da TOTVS usado nos testes.
* `cypress/support/commands.js`: Define comandos personalizados do Cypress para facilitar a escrita e a leitura dos testes.
* `cypress/support/e2e.js`: Arquivo que cont√©m configura√ß√µes e fun√ß√µes de suporte que s√£o executadas antes de cada teste dentro da pasta `e2e`.
* `cypress/support/testIds.js`: Arquivo com identificadores √∫nicos (data-testIds) para elementos HTML, usados para tornar os seletores dos testes mais robustos e menos propensos a quebrar devido a mudan√ßas no CSS.
